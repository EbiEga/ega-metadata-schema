{
    "$schema": "https://json-schema.org/draft/2019-09/schema#",
    "$id": "https://raw.githubusercontent.com/EbiEga/ega-metadata-schema/main/schemas/EGA.sample.json",
    "type": "object",
    "title": "EGA Sample metadata schema",
    "meta:version": "1.0.0",
    "required": ["SAMPLE_SET"],
    "additionalProperties": false,
    "properties": {
        "SAMPLE_SET": {
            "type": "array",
            "description": "Container for a set of samples and a namespace for establishing referential integrity between them.",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
                "type": "object",
                "required": ["SAMPLE"],
                "properties": {
                    "SAMPLE": {
                        "$ref": "#/definitions/SampleType"
                    }
                }
            }
        }
    },
    "definitions": {
        "SampleType": {
            "type": "object",
            "description": "A Sample defines an isolate of sequenceable material upon which sequencing experiments can be based. The Sample object may be a surrogate for taxonomy accession or an anonymized individual identifier.  Or, it may fully specify provenance and isolation method of the starting material.",
            "allOf": [
                { "$ref": "EGA.common.json#/definitions/ObjectType" }
            ],
            "required": ["SAMPLE_NAME"],
            "properties": {
                "TITLE": {
                    "type": "string",
                    "description": "Short text that can be used to call out sample records in search results or in displays."
                },
                "SAMPLE_NAME": {
                    "type": "object",
                    "required": ["TAXON_ID"],
                    "properties": {
                        "TAXON_ID": {
                            "type": "integer",
                            "description": "NCBI Taxonomy Identifier.  This is appropriate for individual organisms and some environmental samples."
                        },
                        "SCIENTIFIC_NAME": {
                            "type": "string",
                            "description": "Scientific name of sample that distinguishes its taxonomy.  Please use a name or synonym that is tracked in the INSDC Taxonomy database. Also, this field can be used to confirm the TAXON_ID setting."
                        },
                        "COMMON_NAME": {
                            "type": "string",
                            "description": "GenBank common name of the organism.  Examples: human, mouse."
                        },
                        "display_name": {
                            "type": "string"
                        }
                    }
                },
                "DESCRIPTION": {
                    "type": "string",
                    "description": "Free-form text describing the sample, its origin, and its method of isolation."
                },
                "SAMPLE_LINKS": {
                    "type": "array",
                    "description": "Links to resources related to this sample",
                    "minItems": 1,
                    "uniqueItems": true,
                    "items": {
                        "properties": {
                            "SAMPLE_LINK": {
                                "$ref": "EGA.common.json#/definitions/LinkType"
                                }
                        }          
                    }
                },
                "SAMPLE_ATTRIBUTES": {
                    "type": "array",
                    "minItems": 1,
                    "uniqueItems": true,
                    "description": "Properties and attributes of a sample.",
                    "items": {
                        "type": "object",
                        "required": ["SAMPLE_ATTRIBUTE"],
                        "properties": {
                            "SAMPLE_ATTRIBUTE": {
                                "$ref": "./EGA.common.json#/definitions/AttributeType"
                            }
                        }
                    }
                }
            }
        }
    }
}